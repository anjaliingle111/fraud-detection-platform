<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Fraud Detection Platform - All Factors Input</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #3498db, #8e44ad);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        .form-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .section-title {
            color: #2c3e50;
            font-size: 1.4em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .input-group input, .input-group select {
            padding: 12px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 0.9em;
            transition: all 0.3s ease;
            background: white;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .quick-fill-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .quick-fill-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .quick-fill-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }

        .quick-fill-btn.high-risk {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }

        .quick-fill-btn.medium-risk {
            background: linear-gradient(45deg, #f39c12, #d35400);
        }

        .analyze-btn {
            background: linear-gradient(45deg, #3498db, #8e44ad);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 30px;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.3);
        }

        .analyze-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .results {
            display: none;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
        }

        .results.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-overview {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .fraud-score {
            text-align: center;
        }

        .fraud-percentage {
            font-size: 3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .fraud-label {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        .result-status {
            padding: 15px 30px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1.3em;
            text-align: center;
        }

        .status-approved {
            background: #d4edda;
            color: #155724;
        }

        .status-review {
            background: #fff3cd;
            color: #856404;
        }

        .status-declined {
            background: #f8d7da;
            color: #721c24;
        }

        .status-escalate {
            background: #f4cccc;
            color: #b91c1c;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #ecf0f1;
            border-radius: 6px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #f39c12, #e74c3c);
            border-radius: 6px;
            transition: width 0.8s ease;
        }

        .detailed-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .result-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .result-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .loading {
            text-align: center;
            padding: 60px;
            color: #7f8c8d;
            font-size: 1.2em;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid #3498db;
            border-top: 3px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .sent-data {
            background: #e8f5e8;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid #27ae60;
        }

        .sent-data h3 {
            color: #27ae60;
            margin-bottom: 15px;
        }

        .sent-data pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .result-overview {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè¶ Comprehensive Fraud Detection Platform</h1>
            <p>Input ALL Real-World Fraud Factors for Complete Analysis</p>
        </div>

        <div class="quick-fill-buttons">
            <button class="quick-fill-btn" onclick="fillLowRiskProfile()">üü¢ Fill Low Risk Profile</button>
            <button class="quick-fill-btn medium-risk" onclick="fillMediumRiskProfile()">üü° Fill Medium Risk Profile</button>
            <button class="quick-fill-btn high-risk" onclick="fillHighRiskProfile()">üî¥ Fill High Risk Profile</button>
            <button class="quick-fill-btn" onclick="clearAllFields()">üîÑ Clear All Fields</button>
        </div>

        <form id="comprehensiveFraudForm">
            <!-- Transaction Details -->
            <div class="form-container">
                <h2 class="section-title">üí≥ Transaction Details</h2>
                <div class="form-grid">
                    <div class="input-group">
                        <label for="amount">üí∞ Amount ($)</label>
                        <input type="number" id="amount" name="amount" step="0.01" min="0" placeholder="5000" required>
                    </div>
                    <div class="input-group">
                        <label for="customer_id">üë§ Customer ID</label>
                        <input type="text" id="customer_id" name="customer_id" placeholder="CUST_001" required>
                    </div>
                    <div class="input-group">
                        <label for="channel">üì± Channel</label>
                        <select id="channel" name="channel" required>
                            <option value="">Select channel</option>
                            <option value="online">üåê Online</option>
                            <option value="mobile">üì± Mobile</option>
                            <option value="pos">üè™ Point of Sale</option>
                            <option value="atm">üèß ATM</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="merchant">üè¢ Merchant</label>
                        <input type="text" id="merchant" name="merchant" placeholder="Amazon">
                    </div>
                </div>
            </div>

            <!-- Credit & Financial Profile -->
            <div class="form-container">
                <h2 class="section-title">üè¶ Credit & Financial Profile</h2>
                <div class="form-grid">
                    <div class="input-group">
                        <label for="fico_score">üìä FICO Score (300-850)</label>
                        <input type="number" id="fico_score" name="fico_score" min="300" max="850" placeholder="720">
                    </div>
                    <div class="input-group">
                        <label for="cibil_score">üìä CIBIL Score (300-900)</label>
                        <input type="number" id="cibil_score" name="cibil_score" min="300" max="900" placeholder="750">
                    </div>
                    <div class="input-group">
                        <label for="credit_card_debt">üí≥ Credit Card Debt ($)</label>
                        <input type="number" id="credit_card_debt" name="credit_card_debt" min="0" placeholder="5000">
                    </div>
                    <div class="input-group">
                        <label for="credit_utilization">üìà Credit Utilization (%)</label>
                        <input type="number" id="credit_utilization" name="credit_utilization" min="0" max="100" placeholder="30">
                    </div>
                    <div class="input-group">
                        <label for="debt_to_income">üìä Debt-to-Income Ratio (%)</label>
                        <input type="number" id="debt_to_income" name="debt_to_income" min="0" max="100" placeholder="25">
                    </div>
                    <div class="input-group">
                        <label for="annual_income">üí∞ Annual Income ($)</label>
                        <input type="number" id="annual_income" name="annual_income" min="0" placeholder="75000">
                    </div>
                </div>
            </div>

            <!-- Identity & SSN Analysis -->
            <div class="form-container">
                <h2 class="section-title">üîç Identity & SSN Analysis</h2>
                <div class="form-grid">
                    <div class="input-group">
                        <label for="ssn">üÜî SSN (Last 4 digits)</label>
                        <input type="text" id="ssn" name="ssn" placeholder="1234" maxlength="4">
                    </div>
                    <div class="input-group">
                        <label for="ssn_velocity">üîÑ SSN Velocity (# of accounts)</label>
                        <input type="number" id="ssn_velocity" name="ssn_velocity" min="0" placeholder="1">
                    </div>
                    <div class="input-group">
                        <label for="address_years">üè† Years at Address</label>
                        <input type="number" id="address_years" name="address_years" min="0" placeholder="5">
                    </div>
                    <div class="input-group">
                        <label for="phone_verified">üìû Phone Verified</label>
                        <select id="phone_verified" name="phone_verified">
                            <option value="">Select status</option>
                            <option value="true">‚úÖ Verified</option>
                            <option value="false">‚ùå Not Verified</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="email_verified">üìß Email Verified</label>
                        <select id="email_verified" name="email_verified">
                            <option value="">Select status</option>
                            <option value="true">‚úÖ Verified</option>
                            <option value="false">‚ùå Not Verified</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="identity_confidence">üéØ Identity Confidence (%)</label>
                        <input type="number" id="identity_confidence" name="identity_confidence" min="0" max="100" placeholder="85">
                    </div>
                </div>
            </div>

            <!-- Transaction History -->
            <div class="form-container">
                <h2 class="section-title">üìä Transaction History</h2>
                <div class="form-grid">
                    <div class="input-group">
                        <label for="chargeback_ratio">üîÑ Chargeback Ratio (%)</label>
                        <input type="number" id="chargeback_ratio" name="chargeback_ratio" min="0" max="100" step="0.1" placeholder="2.5">
                    </div>
                    <div class="input-group">
                        <label for="return_rate">‚Ü©Ô∏è Return Rate (%)</label>
                        <input type="number" id="return_rate" name="return_rate" min="0" max="100" step="0.1" placeholder="10">
                    </div>
                    <div class="input-group">
                        <label for="transactions_last_month">üìà Transactions Last Month</label>
                        <input type="number" id="transactions_last_month" name="transactions_last_month" min="0" placeholder="25">
                    </div>
                    <div class="input-group">
                        <label for="avg_transaction_amount">üí∞ Avg Transaction Amount ($)</label>
                        <input type="number" id="avg_transaction_amount" name="avg_transaction_amount" min="0" placeholder="150">
                    </div>
                    <div class="input-group">
                        <label for="largest_transaction">üìä Largest Transaction ($)</label>
                        <input type="number" id="largest_transaction" name="largest_transaction" min="0" placeholder="2000">
                    </div>
                    <div class="input-group">
                        <label for="failed_transactions">‚ùå Failed Transactions (Last 30 days)</label>
                        <input type="number" id="failed_transactions" name="failed_transactions" min="0" placeholder="3">
                    </div>
                </div>
            </div>

            <!-- Account & Banking History -->
            <div class="form-container">
                <h2 class="section-title">üè¢ Account & Banking History</h2>
                <div class="form-grid">
                    <div class="input-group">
                        <label for="account_age_days">‚è±Ô∏è Account Age (days)</label>
                        <input type="number" id="account_age_days" name="account_age_days" min="0" placeholder="1825">
                    </div>
                    <div class="input-group">
                        <label for="overdraft_count">üî¥ Overdraft Count (Last year)</label>
                        <input type="number" id="overdraft_count" name="overdraft_count" min="0" placeholder="2">
                    </div>
                    <div class="input-group">
                        <label for="employment_status">üíº Employment Status</label>
                        <select id="employment_status" name="employment_status">
                            <option value="">Select status</option>
                            <option value="employed">‚úÖ Employed</option>
                            <option value="unemployed">‚ùå Unemployed</option>
                            <option value="self_employed">üè¢ Self-Employed</option>
                            <option value="retired">üèñÔ∏è Retired</option>
                            <option value="student">üéì Student</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="job_tenure_months">‚è∞ Job Tenure (months)</label>
                        <input type="number" id="job_tenure_months" name="job_tenure_months" min="0" placeholder="36">
                    </div>
                    <div class="input-group">
                        <label for="bank_relationship_years">üè¶ Bank Relationship (years)</label>
                        <input type="number" id="bank_relationship_years" name="bank_relationship_years" min="0" placeholder="8">
                    </div>
                    <div class="input-group">
                        <label for="direct_deposit">üí∞ Direct Deposit</label>
                        <select id="direct_deposit" name="direct_deposit">
                            <option value="">Select status</option>
                            <option value="true">‚úÖ Yes</option>
                            <option value="false">‚ùå No</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Device & Network Analysis -->
            <div class="form-container">
                <h2 class="section-title">üíª Device & Network Analysis</h2>
                <div class="form-grid">
                    <div class="input-group">
                        <label for="device_id">üì± Device ID</label>
                        <input type="text" id="device_id" name="device_id" placeholder="ABC123DEF456">
                    </div>
                    <div class="input-group">
                        <label for="ip_address">üåê IP Address</label>
                        <input type="text" id="ip_address" name="ip_address" placeholder="192.168.1.100">
                    </div>
                    <div class="input-group">
                        <label for="device_risk_score">‚ö†Ô∏è Device Risk Score (0-100)</label>
                        <input type="number" id="device_risk_score" name="device_risk_score" min="0" max="100" placeholder="15">
                    </div>
                    <div class="input-group">
                        <label for="ip_reputation">üîç IP Reputation</label>
                        <select id="ip_reputation" name="ip_reputation">
                            <option value="">Select reputation</option>
                            <option value="good">‚úÖ Good</option>
                            <option value="neutral">‚ûñ Neutral</option>
                            <option value="suspicious">‚ö†Ô∏è Suspicious</option>
                            <option value="malicious">üî¥ Malicious</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="location_mismatch">üìç Location Mismatch</label>
                        <select id="location_mismatch" name="location_mismatch">
                            <option value="">Select status</option>
                            <option value="false">‚úÖ No Mismatch</option>
                            <option value="true">‚ö†Ô∏è Mismatch Detected</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="vpn_detected">üîí VPN Detected</label>
                        <select id="vpn_detected" name="vpn_detected">
                            <option value="">Select status</option>
                            <option value="false">‚ûñ No VPN</option>
                            <option value="true">üîí VPN Detected</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Regulatory & Compliance -->
            <div class="form-container">
                <h2 class="section-title">‚öñÔ∏è Regulatory & Compliance</h2>
                <div class="form-grid">
                    <div class="input-group">
                        <label for="aml_risk_score">üèõÔ∏è AML Risk Score (0-100)</label>
                        <input type="number" id="aml_risk_score" name="aml_risk_score" min="0" max="100" placeholder="20">
                    </div>
                    <div class="input-group">
                        <label for="sanctions_check">üö´ Sanctions Check</label>
                        <select id="sanctions_check" name="sanctions_check">
                            <option value="">Select status</option>
                            <option value="clear">‚úÖ Clear</option>
                            <option value="match">üî¥ Match Found</option>
                            <option value="pending">‚è≥ Pending</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="pep_status">üëë PEP Status</label>
                        <select id="pep_status" name="pep_status">
                            <option value="">Select status</option>
                            <option value="false">‚ûñ Not PEP</option>
                            <option value="true">üëë PEP Detected</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="watchlist_match">üìã Watchlist Match</label>
                        <select id="watchlist_match" name="watchlist_match">
                            <option value="">Select status</option>
                            <option value="false">‚úÖ No Match</option>
                            <option value="true">‚ö†Ô∏è Match Found</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="kyc_status">üîç KYC Status</label>
                        <select id="kyc_status" name="kyc_status">
                            <option value="">Select status</option>
                            <option value="complete">‚úÖ Complete</option>
                            <option value="incomplete">‚è≥ Incomplete</option>
                            <option value="failed">‚ùå Failed</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="country_risk">üåç Country Risk Level</label>
                        <select id="country_risk" name="country_risk">
                            <option value="">Select risk level</option>
                            <option value="low">üü¢ Low Risk</option>
                            <option value="medium">üü° Medium Risk</option>
                            <option value="high">üî¥ High Risk</option>
                        </select>
                    </div>
                </div>
            </div>

            <button type="submit" class="analyze-btn" id="analyzeBtn">
                üîç Comprehensive Fraud Analysis (50+ Factors)
            </button>
        </form>

        <div class="error-message" id="errorMessage"></div>

        <div class="results" id="results"></div>
    </div>

    <script>
        // Quick fill functions
        function fillLowRiskProfile() {
            document.getElementById('amount').value = '500';
            document.getElementById('customer_id').value = 'CUST_001';
            document.getElementById('channel').value = 'pos';
            document.getElementById('merchant').value = 'Local Store';
            
            // Credit & Financial
            document.getElementById('fico_score').value = '750';
            document.getElementById('cibil_score').value = '780';
            document.getElementById('credit_card_debt').value = '2000';
            document.getElementById('credit_utilization').value = '15';
            document.getElementById('debt_to_income').value = '20';
            document.getElementById('annual_income').value = '85000';
            
            // Identity & SSN
            document.getElementById('ssn').value = '1234';
            document.getElementById('ssn_velocity').value = '1';
            document.getElementById('address_years').value = '8';
            document.getElementById('phone_verified').value = 'true';
            document.getElementById('email_verified').value = 'true';
            document.getElementById('identity_confidence').value = '95';
            
            // Transaction History
            document.getElementById('chargeback_ratio').value = '1.2';
            document.getElementById('return_rate').value = '5';
            document.getElementById('transactions_last_month').value = '15';
            document.getElementById('avg_transaction_amount').value = '120';
            document.getElementById('largest_transaction').value = '800';
            document.getElementById('failed_transactions').value = '0';
            
            // Account & Banking
            document.getElementById('account_age_days').value = '2920';
            document.getElementById('overdraft_count').value = '0';
            document.getElementById('employment_status').value = 'employed';
            document.getElementById('job_tenure_months').value = '48';
            document.getElementById('bank_relationship_years').value = '12';
            document.getElementById('direct_deposit').value = 'true';
            
            // Device & Network
            document.getElementById('device_id').value = 'SAFE_DEVICE_123';
            document.getElementById('ip_address').value = '192.168.1.100';
            document.getElementById('device_risk_score').value = '10';
            document.getElementById('ip_reputation').value = 'good';
            document.getElementById('location_mismatch').value = 'false';
            document.getElementById('vpn_detected').value = 'false';
            
            // Regulatory & Compliance
            document.getElementById('aml_risk_score').value = '15';
            document.getElementById('sanctions_check').value = 'clear';
            document.getElementById('pep_status').value = 'false';
            document.getElementById('watchlist_match').value = 'false';
            document.getElementById('kyc_status').value = 'complete';
            document.getElementById('country_risk').value = 'low';
        }

        function fillMediumRiskProfile() {
            document.getElementById('amount').value = '5000';
            document.getElementById('customer_id').value = 'CUST_500';
            document.getElementById('channel').value = 'online';
            document.getElementById('merchant').value = 'Online Store';
            
            // Credit & Financial
            document.getElementById('fico_score').value = '650';
            document.getElementById('cibil_score').value = '680';
            document.getElementById('credit_card_debt').value = '8000';
            document.getElementById('credit_utilization').value = '45';
            document.getElementById('debt_to_income').value = '35';
            document.getElementById('annual_income').value = '55000';
            
            // Identity & SSN
            document.getElementById('ssn').value = '5678';
            document.getElementById('ssn_velocity').value = '3';
            document.getElementById('address_years').value = '2';
            document.getElementById('phone_verified').value = 'true';
            document.getElementById('email_verified').value = 'false';
            document.getElementById('identity_confidence').value = '70';
            
            // Transaction History
            document.getElementById('chargeback_ratio').value = '5.5';
            document.getElementById('return_rate').value = '15';
            document.getElementById('transactions_last_month').value = '35';
            document.getElementById('avg_transaction_amount').value = '250';
            document.getElementById('largest_transaction').value = '3000';
            document.getElementById('failed_transactions').value = '5';
            
            // Account & Banking
            document.getElementById('account_age_days').value = '730';
            document.getElementById('overdraft_count').value = '3';
            document.getElementById('employment_status').value = 'employed';
            document.getElementById('job_tenure_months').value = '18';
            document.getElementById('bank_relationship_years').value = '3';
            document.getElementById('direct_deposit').value = 'true';
            
            // Device & Network
            document.getElementById('device_id').value = 'MEDIUM_DEVICE_456';
            document.getElementById('ip_address').value = '203.45.67.89';
            document.getElementById('device_risk_score').value = '45';
            document.getElementById('ip_reputation').value = 'neutral';
            document.getElementById('location_mismatch').value = 'false';
            document.getElementById('vpn_detected').value = 'false';
            
            // Regulatory & Compliance
            document.getElementById('aml_risk_score').value = '40';
            document.getElementById('sanctions_check').value = 'clear';
            document.getElementById('pep_status').value = 'false';
            document.getElementById('watchlist_match').value = 'false';
            document.getElementById('kyc_status').value = 'complete';
            document.getElementById('country_risk').value = 'medium';
        }

        function fillHighRiskProfile() {
            document.getElementById('amount').value = '15000';
            document.getElementById('customer_id').value = 'CUST_999';
            document.getElementById('channel').value = 'online';
            document.getElementById('merchant').value = 'High Risk Merchant';
            
            // Credit & Financial
            document.getElementById('fico_score').value = '450';
            document.getElementById('cibil_score').value = '380';
            document.getElementById('credit_card_debt').value = '25000';
            document.getElementById('credit_utilization').value = '90';
            document.getElementById('debt_to_income').value = '75';
            document.getElementById('annual_income').value = '25000';
            
            // Identity & SSN
            document.getElementById('ssn').value = '9999';
            document.getElementById('ssn_velocity').value = '8';
            document.getElementById('address_years').value = '0.5';
            document.getElementById('phone_verified').value = 'false';
            document.getElementById('email_verified').value = 'false';
            document.getElementById('identity_confidence').value = '25';
            
            // Transaction History
            document.getElementById('chargeback_ratio').value = '18';
            document.getElementById('return_rate').value = '35';
            document.getElementById('transactions_last_month').value = '85';
            document.getElementById('avg_transaction_amount').value = '1200';
            document.getElementById('largest_transaction').value = '25000';
            document.getElementById('failed_transactions').value = '15';
            
            // Account & Banking
            document.getElementById('account_age_days').value = '45';
            document.getElementById('overdraft_count').value = '12';
            document.getElementById('employment_status').value = 'unemployed';
            document.getElementById('job_tenure_months').value = '0';
            document.getElementById('bank_relationship_years').value = '0.5';
            document.getElementById('direct_deposit').value = 'false';
            
            // Device & Network
            document.getElementById('device_id').value = 'RISKY_DEVICE_999';
            document.getElementById('ip_address').value = '45.67.89.123';
            document.getElementById('device_risk_score').value = '85';
            document.getElementById('ip_reputation').value = 'malicious';
            document.getElementById('location_mismatch').value = 'true';
            document.getElementById('vpn_detected').value = 'true';
            
            // Regulatory & Compliance
            document.getElementById('aml_risk_score').value = '80';
            document.getElementById('sanctions_check').value = 'match';
            document.getElementById('pep_status').value = 'true';
            document.getElementById('watchlist_match').value = 'true';
            document.getElementById('kyc_status').value = 'failed';
            document.getElementById('country_risk').value = 'high';
        }

        function clearAllFields() {
            document.getElementById('comprehensiveFraudForm').reset();
        }

        // Form submission
        document.getElementById('comprehensiveFraudForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const analyzeBtn = document.getElementById('analyzeBtn');
            const results = document.getElementById('results');
            const errorMessage = document.getElementById('errorMessage');
            
            // Show loading state
            analyzeBtn.disabled = true;
            analyzeBtn.innerHTML = 'üîç Analyzing 50+ Fraud Factors...';
            results.style.display = 'block';
            results.innerHTML = '<div class="loading">Processing comprehensive fraud analysis with all real-world factors...</div>';
            errorMessage.style.display = 'none';
            
            // Collect all form data
            const formData = new FormData(e.target);
            const comprehensiveData = {};
            
            // Convert FormData to object
            for (let [key, value] of formData.entries()) {
                if (value !== '') {
                    // Convert numeric strings to numbers
                    if (key.includes('score') || key.includes('ratio') || key.includes('amount') || key.includes('count') || key.includes('days') || key.includes('months') || key.includes('years') || key.includes('confidence') || key.includes('velocity') || key.includes('income') || key.includes('debt') || key.includes('utilization') || key.includes('transactions')) {
                        comprehensiveData[key] = parseFloat(value) || 0;
                    } else if (key.includes('verified') || key.includes('deposit') || key.includes('mismatch') || key.includes('detected') || key.includes('pep_status') || key.includes('watchlist_match')) {
                        comprehensiveData[key] = value === 'true';
                    } else {
                        comprehensiveData[key] = value;
                    }
                }
            }
            
            // Show what data is being sent
            const sentDataDiv = document.createElement('div');
            sentDataDiv.className = 'sent-data';
            sentDataDiv.innerHTML = `
                <h3>üì§ Data Sent to API (${Object.keys(comprehensiveData).length} factors)</h3>
                <pre>${JSON.stringify(comprehensiveData, null, 2)}</pre>
            `;
            
            try {
                // Call your fraud detection API with comprehensive data
                const response = await fetch('http://localhost:8080/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(comprehensiveData)
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                displayComprehensiveResults(data, comprehensiveData);
                
            } catch (error) {
                console.error('Error:', error);
                results.style.display = 'none';
                errorMessage.style.display = 'block';
                errorMessage.innerHTML = `
                    <strong>‚ö†Ô∏è Error:</strong> Unable to connect to fraud detection API. 
                    <br>The API may only accept basic transaction data (amount, customer_id, channel, merchant).
                    <br>You may need to update your API endpoint to handle comprehensive fraud factors.
                    <br>Error details: ${error.message}
                `;
            } finally {
                // Reset button
                analyzeBtn.disabled = false;
                analyzeBtn.innerHTML = 'üîç Comprehensive Fraud Analysis (50+ Factors)';
            }
        });
        
        function displayComprehensiveResults(data, sentData) {
            const results = document.getElementById('results');
            
            const fraudProb = Math.round(data.fraud_probability * 100);
            const businessAction = data.business_action || 'REVIEW';
            const factors = data.contributing_factors || {};
            const costBenefit = data.cost_benefit_analysis || {};
            
            results.innerHTML = `
                <div class="result-overview">
                    <div class="fraud-score">
                        <div class="fraud-percentage">${fraudProb}%</div>
                        <div class="fraud-label">Fraud Probability</div>
                    </div>
                    <div class="result-status ${getStatusClass(businessAction)}">${businessAction}</div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${fraudProb}%"></div>
                </div>

                <div class="detailed-results">
                    <div class="result-card">
                        <h3>üéØ Risk Assessment</h3>
                        <div class="result-item">
                            <span>Risk Level:</span>
                            <span>${data.risk_level || 'MEDIUM'}</span>
                        </div>
                        <div class="result-item">
                            <span>Confidence:</span>
                            <span>${data.confidence || '0.5'}</span>
                        </div>
                        <div class="result-item">
                            <span>Model Version:</span>
                            <span>${data.model_version || '3.0'}</span>
                        </div>
                    </div>

                    <div class="result-card">
                        <h3>üí° Contributing Factors</h3>
                        <div class="result-item">
                            <span>Credit Risk:</span>
                            <span>${factors.credit_risk ? Math.round(factors.credit_risk * 100) + '%' : 'N/A'}</span>
                        </div>
                        <div class="result-item">
                            <span>Amount Risk:</span>
                            <span>${factors.amount_risk ? Math.round(factors.amount_risk * 100) + '%' : 'N/A'}</span>
                        </div>
                        <div class="result-item">
                            <span>Velocity Risk:</span>
                            <span>${factors.velocity_risk ? Math.round(factors.velocity_risk * 100) + '%' : 'N/A'}</span>
                        </div>
                        <div class="result-item">
                            <span>Account Age:</span>
                            <span>${factors.account_age ? Math.round(factors.account_age * 100) + '%' : 'N/A'}</span>
                        </div>
                    </div>

                    <div class="result-card">
                        <h3>üí∞ Cost-Benefit Analysis</h3>
                        <div class="result-item">
                            <span>Expected Cost:</span>
                            <span>$${costBenefit.expected_cost ? costBenefit.expected_cost.toFixed(2) : 'N/A'}</span>
                        </div>
                        <div class="result-item">
                            <span>Fraud Prevented:</span>
                            <span>$${costBenefit.fraud_prevented ? costBenefit.fraud_prevented.toFixed(2) : 'N/A'}</span>
                        </div>
                        <div class="result-item">
                            <span>ROI:</span>
                            <span>${costBenefit.roi ? costBenefit.roi.toFixed(2) + 'x' : 'N/A'}</span>
                        </div>
                    </div>

                    <div class="result-card">
                        <h3>üìä Input Summary</h3>
                        <div class="result-item">
                            <span>Total Factors Analyzed:</span>
                            <span>${Object.keys(sentData).length}</span>
                        </div>
                        <div class="result-item">
                            <span>FICO Score:</span>
                            <span>${sentData.fico_score || 'Not provided'}</span>
                        </div>
                        <div class="result-item">
                            <span>Chargeback Ratio:</span>
                            <span>${sentData.chargeback_ratio ? sentData.chargeback_ratio + '%' : 'Not provided'}</span>
                        </div>
                        <div class="result-item">
                            <span>Employment Status:</span>
                            <span>${sentData.employment_status || 'Not provided'}</span>
                        </div>
                    </div>
                </div>

                <div class="sent-data">
                    <h3>üì§ Comprehensive Data Sent to API (${Object.keys(sentData).length} factors)</h3>
                    <pre>${JSON.stringify(sentData, null, 2)}</pre>
                </div>
            `;
            
            results.classList.add('show');
        }
        
        function getStatusClass(action) {
            switch(action) {
                case 'APPROVE': return 'status-approved';
                case 'REVIEW': return 'status-review';
                case 'DECLINE': return 'status-declined';
                case 'ESCALATE': return 'status-escalate';
                default: return 'status-review';
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Comprehensive Fraud Detection Interface Ready! üöÄ');
            console.log('This interface captures ALL real-world fraud factors:');
            console.log('- Credit scores, SSN analysis, transaction history');
            console.log('- Account/banking history, device/network analysis');
            console.log('- Regulatory compliance factors');
        });
    </script>
</body>
</html>